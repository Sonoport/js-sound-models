/*javascript-sound-models - v2.3.0 - Wed Feb 18 2015 13:23:55 GMT+0800 (SGT) */ 
console.log("   ____                           __ \n" + "  / _____  ___ ___  ___ ___  ____/ /_\n" + " _\\ \\/ _ \\/ _ / _ \\/ _ / _ \\/ __/ __/\n" + "/___/\\___/_//_\\___/ .__\\___/_/  \\__/ \n" + "                 /_/                 \n" + "Hello Developer!\n" + "Thanks for using Sonoport Dynamic Sound Library v2.3.0.");
define("core/Config",[],function(){function e(){}return e.LOG_ERRORS=!0,e.ZERO=parseFloat("1e-37"),e.MAX_VOICES=8,e.NOMINAL_REFRESH_RATE=60,e.WINDOW_LENGTH=512,e.CHUNK_LENGTH=256,e.DEFAULT_SMOOTHING_CONSTANT=.05,e}),define("core/WebAudioDispatch",[],function(){function e(e,t,n){if(!n)return void console.warn("No AudioContext provided");var o=n.currentTime;o>=t||.005>t-o?e():window.setTimeout(function(){e()},1e3*(t-o))}return e}),define("core/AudioContextMonkeyPatch",[],function(){function e(e){e&&(e.setTargetAtTime||(e.setTargetAtTime=e.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var t=this.internal_createGain();return e(t.gain),t},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(t){var n=t?this.internal_createDelay(t):this.internal_createDelay();return e(n.delayTime),n},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var t=this.internal_createBufferSource();return t.start||(t.start=function(e,t,n){t||n?this.noteGrainOn(e,t,n):this.noteOn(e)}),t.stop||(t.stop=t.noteOff),e(t.playbackRate),t},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var t=this.internal_createDynamicsCompressor();return e(t.threshold),e(t.knee),e(t.ratio),e(t.reduction),e(t.attack),e(t.release),t},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var t=this.internal_createBiquadFilter();return e(t.frequency),e(t.detune),e(t.Q),e(t.gain),t},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var t=this.internal_createOscillator();return t.start||(t.start=t.noteOn),t.stop||(t.stop=t.noteOff),e(t.frequency),e(t.detune),t}))}),define("core/BaseSound",["core/WebAudioDispatch","core/AudioContextMonkeyPatch"],function(e){function t(e){function t(e){function t(){o.start(0),o.stop(e.currentTime+1e-4),window.liveAudioContexts.push(e),window.removeEventListener("touchstart",t)}var n=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);if(n&&(window.liveAudioContexts||(window.liveAudioContexts=[]),window.liveAudioContexts.indexOf(e)<0)){var o=e.createOscillator(),r=e.createGain();r.gain.value=0,o.connect(r),r.connect(e.destination),window.addEventListener("touchstart",t)}}void 0===e||null===e?(console.log("Making a new AudioContext"),this.audioContext=new AudioContext):this.audioContext=e,t(this.audioContext),this.numberOfInputs=0,Object.defineProperty(this,"numberOfOutputs",{enumerable:!0,configurable:!1,get:function(){return this.releaseGainNode.numberOfOutputs}});var n=0;Object.defineProperty(this,"maxSources",{enumerable:!0,configurable:!1,set:function(e){0>e&&(e=0),n=Math.round(e)},get:function(){return n}});var o=0;Object.defineProperty(this,"minSources",{enumerable:!0,configurable:!1,set:function(e){0>e&&(e=0),o=Math.round(e)},get:function(){return o}}),this.releaseGainNode=this.audioContext.createGain(),this.isPlaying=!1,this.isInitialized=!1,this.inputNode=null,this.destinations=[],this.modelName="Model",this.onLoadProgress=null,this.onLoadComplete=null,this.onAudioStart=null,this.onAudioEnd=null,this.parameterList_=[],this.connect(this.audioContext.destination)}return t.prototype.connect=function(e,t,n){e instanceof AudioNode?(this.releaseGainNode.connect(e,t,n),this.destinations.push({destination:e,output:t,input:n})):e.inputNode instanceof AudioNode?(this.releaseGainNode.connect(e.inputNode,t,n),this.destinations.push({destination:e.inputNode,output:t,input:n})):console.error("No Input Connection - Attempts to connect "+typeof e+" to "+typeof this)},t.prototype.disconnect=function(e){this.releaseGainNode.disconnect(e),this.destinations=[]},t.prototype.start=function(t,n,o,r){("undefined"==typeof t||t<this.audioContext.currentTime)&&(t=this.audioContext.currentTime),this.releaseGainNode.gain.cancelScheduledValues(t),"undefined"!=typeof r?(this.releaseGainNode.gain.setValueAtTime(0,t),this.releaseGainNode.gain.linearRampToValueAtTime(1,t+r)):this.releaseGainNode.gain.setValueAtTime(1,t);var i=this;e(function(){i.isPlaying=!0},t,this.audioContext)},t.prototype.stop=function(t){("undefined"==typeof t||t<this.audioContext.currentTime)&&(t=this.audioContext.currentTime);var n=this;e(function(){n.isPlaying=!1},t,this.audioContext),this.releaseGainNode.gain.cancelScheduledValues(t)},t.prototype.release=function(t,n,o){if(this.isPlaying){var r=.5;if(("undefined"==typeof t||t<this.audioContext.currentTime)&&(t=this.audioContext.currentTime),n=n||r,this.releaseGainNode.gain.setValueAtTime(this.releaseGainNode.gain.value,t),this.releaseGainNode.gain.linearRampToValueAtTime(0,t+n),!o){var i=this;e(function(){i.pause()},t+n,this.audioContext)}}},t.prototype.setSources=function(e,t,n){this.isInitialized=!1,"function"==typeof t&&(this.onLoadProgress=t),"function"==typeof n&&(this.onLoadComplete=n)},t.prototype.play=function(){this.start(0)},t.prototype.pause=function(){this.isPlaying=!1},t.prototype.registerParameter=function(e,t){(void 0===t||null===t)&&(t=!1),Object.defineProperty(this,e.name,{enumerable:!0,configurable:t,value:e});var n=this,o=!1;this.parameterList_.forEach(function(t,r){t.name===e.name&&(n.parameterList_.splice(r,1,e),o=!0)}),o||this.parameterList_.push(e)},t.prototype.listParams=function(){return this.parameterList_},t}),define("core/SPAudioParam",["core/WebAudioDispatch","core/Config"],function(e,t){function n(n,o,r,i,a,u,s,c){var f,l=1e-4,d=500,h=0,p=!1;if(this.defaultValue=null,this.maxValue=0,this.minValue=0,this.name="",Object.defineProperty(this,"value",{enumerable:!0,configurable:!1,set:function(e){if(typeof e!=typeof a)return void console.error("Attempt to set a "+typeof a+" parameter to a "+typeof e+" value");if("number"==typeof e&&(e>i?(console.warn(this.name+" clamping to max"),e=i):r>e&&(console.warn(this.name+" clamping to min"),e=r)),h=e,"function"==typeof s&&(e=s(e)),p||window.clearInterval(f),p=!1,"function"==typeof c&&n.audioContext)c(u,e,n.audioContext);else if(u){if(u instanceof AudioParam){var o=[];o.push(u),u=o}u.forEach(function(o){n.isPlaying?o.setTargetAtTime(e,n.audioContext.currentTime,t.DEFAULT_SMOOTHING_CONSTANT):o.setValueAtTime(e,n.audioContext.currentTime)})}},get:function(){return h}}),u&&(u instanceof AudioParam||u instanceof Array))var m=u[0]||u;o?this.name=o:m&&(this.name=m.name),"undefined"!=typeof a?(this.defaultValue=a,this.value=a):m&&(this.defaultValue=m.defaultValue,this.value=m.defaultValue),"undefined"!=typeof r?this.minValue=r:m&&(this.minValue=m.minValue),"undefined"!=typeof i?this.maxValue=i:m&&(this.maxValue=m.maxValue),this.setValueAtTime=function(t,o){if(u)"function"==typeof s&&(t=s(t)),u instanceof AudioParam?u.setValueAtTime(t,o):u instanceof Array&&u.forEach(function(e){e.setValueAtTime(t,o)});else{var r=this;e(function(){r.value=t},o,n.audioContext)}},this.setTargetAtTime=function(e,t,o){if(u)"function"==typeof s&&(e=s(e)),u instanceof AudioParam?u.setTargetAtTime(e,t,o):u instanceof Array&&u.forEach(function(n){n.setTargetAtTime(e,t,o)});else{var r=this,i=r.value,a=n.audioContext.currentTime;console.log("starting automation"),f=window.setInterval(function(){n.audioContext.currentTime>=t&&(p=!0,r.value=e+(i-e)*Math.exp(-(n.audioContext.currentTime-a)/o),Math.abs(r.value-e)<l&&window.clearInterval(f))},d)}},this.setValueCurveAtTime=function(e,t,o){if(u){if("function"==typeof s)for(var r=0;r<e.length;r++)e[r]=s(e[r]);u instanceof AudioParam?u.setValueCurveAtTime(e,t,o):u instanceof Array&&u.forEach(function(n){n.setValueCurveAtTime(e,t,o)})}else{var i=this,a=n.audioContext.currentTime;f=window.setInterval(function(){if(n.audioContext.currentTime>=t){var r=Math.floor(e.length*(n.audioContext.currentTime-a)/o);r<e.length?(p=!0,i.value=e[r]):window.clearInterval(f)}},d)}},this.exponentialRampToValueAtTime=function(e,t){if(u)"function"==typeof s&&(e=s(e)),u instanceof AudioParam?u.exponentialRampToValueAtTime(e,t):u instanceof Array&&u.forEach(function(n){n.exponentialRampToValueAtTime(e,t)});else{var o=this,r=o.value,i=n.audioContext.currentTime;0===r&&(r=.001),f=window.setInterval(function(){var a=(n.audioContext.currentTime-i)/(t-i);p=!0,o.value=r*Math.pow(e/r,a),n.audioContext.currentTime>=t&&window.clearInterval(f)},d)}},this.linearRampToValueAtTime=function(e,t){if(u)"function"==typeof s&&(e=s(e)),u instanceof AudioParam?u.linearRampToValueAtTime(e,t):u instanceof Array&&u.forEach(function(n){n.linearRampToValueAtTime(e,t)});else{var o=this,r=o.value,i=n.audioContext.currentTime;f=window.setInterval(function(){var a=(n.audioContext.currentTime-i)/(t-i);p=!0,o.value=r+(e-r)*a,n.audioContext.currentTime>=t&&window.clearInterval(f)},d)}},this.cancelScheduledValues=function(e){u?u instanceof AudioParam?u.cancelScheduledValues(e):u instanceof Array&&u.forEach(function(t){t.cancelScheduledValues(e)}):window.clearInterval(f)}}return n.createPsuedoParam=function(e,t,o,r,i){return new n(e,t,o,r,i,null,null,null)},n}),define("core/DetectLoopMarkers",[],function(){function e(e){var t=0,n=0,o=!0,r=5e3,i=44100,a=.5,u=2e4,s=.01,c=1024,f=16,l=[],d=0,h=function(e,t){for(var n=0,o=t+f;t+f+c>o;++o)n+=Math.abs(e[o]);return s>n/c},p=function(e){return function(t,n,o){var r;return r=o%2===0?n[e]>a:n[e]<-a,t&&r}},m=function(o){var a=null,s=null;t=0,n=d;for(var c=0;null===a&&d>c&&u>c;){if(o.reduce(p(c),!0)&&(1!==o.length||h(o[0],c))){a=c;break}c++}for(c=d;null===s&&c>0&&u>d-c;){if(o.reduce(p(c),!0)){s=c;break}c--}var f=Math.round(r/2*e.sampleRate/i);return null!==a&&null!==s&&s>a+f?(t=a+f,n=s-f,!0):!1},y=function(e){return function(t,n){return t&&Math.abs(n[e])<s}},v=function(e){var o=!0;for(t=0;u>t&&d>t&&(o=e.reduce(y(t),!0));)t++;for(n=d;u>d-n&&n>0&&(o=e.reduce(y(n),!0));)n--;t>n&&(t=0)};d=e.length;for(var g=0;g<e.numberOfChannels;g++)l.push(new Float32Array(e.getChannelData(g)));return m(l)||(v(l),o=!1),{marked:o,start:t,end:n}}return e}),define("core/FileLoader",["core/DetectLoopMarkers"],function(e){function t(n,o,r,i){function a(){var e=Object.prototype.toString.call(n),t=/[^.]+$/.exec(n);if("[object String]"===e){var o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType="arraybuffer",o.addEventListener("progress",i,!1),o.onload=function(){u(o.response,t)},o.send()}else if("[object File]"===e||"[object Blob]"===e){var r=new FileReader;r.addEventListener("progress",i,!1),r.onload=function(){u(r.result,t)},r.readAsArrayBuffer(n)}}function u(t,i){o.decodeAudioData(t,function(t){if(l=!0,s=t,c=0,f=s.length,"wav"!==i[0]){var n=e(s);n&&(c=n.start,f=n.end)}r&&"function"==typeof r&&r(!0)},function(){console.warn("Error Decoding "+n),r&&"function"==typeof r&&r(!1)})}if(!(this instanceof t))throw new TypeError("FileLoader constructor cannot be called as a function.");var s,c=0,f=0,l=!1,d=function(e){var t=/^[0-9]+$/;return t.test(e)?!0:!1},h=function(e,t){"undefined"==typeof t&&(t=s.length),d(e)?d(t)||(console.warn("Incorrect parameter Type - FileLoader getBuffer end parameter is not an integer"),t=Number.isNan(t)?0:Math.round(Number(t))):(e=Number.isNan(e)?0:Math.round(Number(e)),console.warn("Incorrect parameter Type - FileLoader getBuffer start parameter is not an integer. Coercing it to an Integer - start")),e>t&&(console.error("Incorrect parameter Type - FileLoader getBuffer start parameter "+e+" should be smaller than end parameter "+t+" . Setting them to the same value "+e),t=e),(e>f||c>e)&&(console.error("Incorrect parameter Type - FileLoader getBuffer start parameter should be within the buffer size : 0-"+s.length+" . Setting start to "+c),e=c),(t>f||c>t)&&(console.error("Incorrect parameter Type - FileLoader getBuffer start parameter should be within the buffer size : 0-"+s.length+" . Setting start to "+f),t=f);var n=t-e;if(!s)return console.error("No Buffer Found - Buffer loading has not completed or has failed."),null;for(var r=o.createBuffer(s.numberOfChannels,n,s.sampleRate),i=0;i<s.numberOfChannels;i++){var a=new Float32Array(s.getChannelData(i));r.getChannelData(i).set(a.subarray(e,t))}return r};this.getBuffer=function(e,t){return"undefined"==typeof e&&(e=0),"undefined"==typeof t&&(t=f-c),h(c+e,c+t)},this.getRawBuffer=function(){return l?s:(console.error("No Buffer Found - Buffer loading has not completed or has failed."),null)},this.isLoaded=function(){return l},a()}return t}),define("core/SPAudioBuffer",[],function(){function e(e,t,n,o,r){if(!(e instanceof AudioContext))return void console.error("First argument to SPAudioBuffer must be a valid AudioContext");var i,a,u,s;this.audioContext=e,this.duration=null,Object.defineProperty(this,"numberOfChannels",{get:function(){return this.buffer?this.buffer.numberOfChannels:0}}),Object.defineProperty(this,"sampleRate",{get:function(){return this.buffer?this.buffer.sampleRate:0}}),this.getChannelData=function(e){return this.buffer?this.buffer.getChannelData(e):null},Object.defineProperty(this,"buffer",{set:function(e){if(null===u)this.startPoint=0;else if(u>e.length/e.sampleRate)return void console.error("SPAudioBuffer : startPoint cannot be greater than buffer length");if(null===s)this.endPoint=this.rawBuffer_.length;else if(s>e.length/e.sampleRate)return void console.error("SPAudioBuffer : endPoint cannot be greater than buffer length");a=e,this.updateBuffer()}.bind(this),get:function(){return i}}),this.sourceURL=null,Object.defineProperty(this,"startPoint",{set:function(e){return void 0!==s&&e>=s?void console.error("SPAudioBuffer : startPoint cannot be greater than endPoint"):a&&e*a.sampleRate>=a.length?void console.error("SPAudioBuffer : startPoint cannot be greater than or equal to buffer length"):(u=e,void this.updateBuffer())}.bind(this),get:function(){return u}}),Object.defineProperty(this,"endPoint",{set:function(e){return void 0!==u&&u>=e?void console.error("SPAudioBuffer : endPoint cannot be lesser than startPoint"):a&&e*a.sampleRate>=a.length?void console.error("SPAudioBuffer : endPoint cannot be greater than buffer or equal to length"):(s=e,void this.updateBuffer())}.bind(this),get:function(){return s}}),this.updateBuffer=function(){if(a){if((null===u||void 0===u)&&(u=0),(null===s||void 0===s)&&(s=a.duration),this.duration=s-u,this.length=Math.ceil(a.sampleRate*this.duration)+1,this.length>0){i&&i.length==this.length&&i.numberOfChannels==a.numberOfChannels&&i.sampleRate==a.sampleRate||(i=this.audioContext.createBuffer(a.numberOfChannels,this.length,a.sampleRate));for(var e=Math.floor(u*a.sampleRate),t=Math.ceil(s*a.sampleRate),n=0;n<a.numberOfChannels;n++){var o=new Float32Array(a.getChannelData(n));i.getChannelData(n).set(o.subarray(e,t))}}}else this.duration=0};var c=Object.prototype.toString.call(t),f=Object.prototype.toString.call(n),l=Object.prototype.toString.call(o),d=Object.prototype.toString.call(r);"[object String]"===c||"[object File]"===c?this.sourceURL=t:"[object AudioBuffer]"===c?this.buffer=t:console.warn("Incorrect Parameter Type. url can only be a String, File or an AudioBuffer"),"[object Number]"===f?this.startPoint=parseFloat(n):"[object Undefined]"!==f&&console.warn("Incorrect Parameter Type. startPoint should be a Number"),"[object Number]"===l?this.endPoint=parseFloat(o):"[object Undefined]"!==f&&console.warn("Incorrect Parameter Type. endPoint should be a Number"),"[object AudioBuffer]"!==d||this.buffer||(this.buffer=r)}return e}),define("core/MultiFileLoader",["core/FileLoader","core/SPAudioBuffer"],function(e,t){function n(n,o,r,i){function a(){if(!n)return console.log("Setting empty source. No sound may be heard"),void i(!1,l);if(!(n instanceof Array)){var e=[];e.push(n),n=e}return n.length<c.minSources||n.length>c.maxSources?(console.error("Unsupported number of Sources. "+c.modelName+" only supports a minimum of "+c.minSources+" and a maximum of "+c.maxSources+" sources. Trying to load "+n.length+"."),void i(!1,l)):(f=n.length,l=new Array(f),void n.forEach(function(e,t){u(e,s(t))}))}function u(n,o){var i,a=Object.prototype.toString.call(n);if("[object AudioBuffer]"===a)i=new t(c.audioContext,n),o(!0,i);else if(n instanceof t&&n.buffer)o(!0,n);else if("[object String]"===a||"[object File]"===a||n instanceof t&&n.sourceURL){var u;n instanceof t&&n.sourceURL?(u=n.sourceURL,i=n):(u=n,i=new t(c.audioContext,u));var s=new e(u,c.audioContext,function(e){e?(i.buffer=s.getBuffer(),o(e,i)):o(e)},function(e){r&&"function"==typeof r&&r(e,i)})}else console.error("Incorrect Parameter Type - Source is not a URL, File or AudioBuffer or doesn't have sourceURL or buffer"),o(!1,{})}function s(e){return function(t,n){if(t&&(l[e]=n),f--,0===f){for(var o=!0,r=0;r<l.length;++r)if(!l[r]){o=!1;break}i(o,l)}}}var c=this;this.audioContext=o;var f=0,l=[];a()}return n}),define("models/Scrubber",["core/Config","core/BaseSound","core/SPAudioParam","core/MultiFileLoader"],function(e,t,n,o){function r(i,a,u,s,c,f){function l(t){x&&(x.disconnect(),x=null),o.call(P,t,P.audioContext,P.onLoadProgress,I),p=e.WINDOW_LENGTH,m=p/2,S=0,g=h(p,1);for(var n=0;p>n;n++)g[n]=.25*(1-Math.cos(2*Math.PI*(n+.5)/p));T=new Float32Array(e.CHUNK_LENGTH)}function d(e){if(!P.isPlaying||!P.isInitialized){for(n=0;b>n;n++)e.outputBuffer.getChannelData(n).set(T);return B=0,U=0,void(M&&("function"==typeof P.onAudioEnd&&P.onAudioEnd(),M=!1))}for(var t,n,o=e.outputBuffer.length;o>0;){if(S>0&&o>0){var r=Math.min(o,S);for(n=0;b>n;n++){var i=y[n].subarray(m-S,m-S+r);e.outputBuffer.getChannelData(n).set(i,e.outputBuffer.length-o)}o-=r,S-=r}if(o>0){var a,u=P.playPosition.value;if(Math.abs(O-u)*A>L*C)N=u,a=0;else{var s=R*N+(1-R)*u;a=(s-N)*A/m,N=s}for(O=u,t=0;p-m>t;t++)for(n=0;b>n;n++)y[n][t]=y[n][t+m];for(t=p-m;p>t;t++)for(n=0;b>n;n++)y[n][t]=0;for(t=0;p-m>t;t++)for(n=0;b>n;n++)v[n][t]=v[n][t+m];var c=0,f=0;for(t=0;p-m>t;t++){var l=0;for(n=0;b>n;n++)l+=v[n][t];l>f&&(c=t,f=l)}var d=parseInt(N*(A-p)),h=0,x=0;for(t=0;p>t;t++){var I=0,D=(d+t)%A;for(n=0;b>n;n++)I+=w[n][D];I>x&&(x=I,h=t)}var G=h-c;for(d+=G,t=0;p>t;t++){var _=(d+t)%A;for(0>_&&(_=0),n=0;b>n;n++)v[n][t]=w[n][_]}var j=P.noMotionFade.value,U=1;j&&Math.abs(a)<V&&(U=0),B=E*B+(1-E)*U;var k=P.muteOnReverse.value;for(0>a&&k&&(B=0),M&&(k&&F>B||Math.abs(B)<F)&&(M=!1,"function"==typeof P.onAudioEnd&&P.onAudioEnd()),B>F&&!M&&(M=!0,"function"==typeof P.onAudioStart&&P.onAudioStart()),t=0;p>t;t++)for(n=0;b>n;n++)y[n][t]+=B*g[t]*v[n][t];S=m}}}function h(e,t){var n=[];(void 0===t||null===t)&&(t=1);for(var o=0;t>o;o++)n.push(new Float32Array(e));return n}if(!(this instanceof r))throw new TypeError("Scrubber constructor cannot be called as a function.");t.call(this,i),this.maxSources=1,this.minSources=1,this.modelName="Scrubber",this.onLoadProgress=u,this.onLoadComplete=s,this.onAudioStart=c,this.onAudioEnd=f;var p,m,y,v,g,A,b,C,x,T,P=this,w=[],S=0,O=0,N=0,B=0,L=1,R=.95,V=.05,E=.8,F=1e-4,M=!1,I=function(t,n){if(t){var o=n[0];A=o.length,b=o.numberOfChannels,C=o.sampleRate,w=[];for(var r=0;b>r;r++)w.push(o.getChannelData(r));x=P.audioContext.createScriptProcessor(e.CHUNK_LENGTH,0,b),x.onaudioprocess=d,x.connect(P.releaseGainNode),y=h(p,b),v=h(p,b),P.isInitialized=!0}"function"==typeof P.onLoadComplete&&P.onLoadComplete(t,n)};this.setSources=function(e,n,o){t.prototype.setSources.call(this,e,n,o),l(e)},this.registerParameter(n.createPsuedoParam(this,"playPosition",0,1,0)),this.registerParameter(n.createPsuedoParam(this,"noMotionFade",!0,!1,!0)),this.registerParameter(n.createPsuedoParam(this,"muteOnReverse",!0,!1,!0)),window.setTimeout(function(){l(a)},0)}return r.prototype=Object.create(t.prototype),r});
"use strict";function Scrubber(o,e,r,t,a,n){function i(o){P&&(P.disconnect(),P=null),multiFileLoader.call(b,o,b.audioContext,b.onLoadProgress,H),f=Config.WINDOW_LENGTH,c=f/2,C=0,h=s(f,1);for(var e=0;f>e;e++)h[e]=.25*(1-Math.cos(2*Math.PI*(e+.5)/f));S=new Float32Array(Config.CHUNK_LENGTH)}function u(o){if(!b.isPlaying||!b.isInitialized){for(r=0;p>r;r++)o.outputBuffer.getChannelData(r).set(S);return L=0,z=0,void(w&&("function"==typeof b.onAudioEnd&&b.onAudioEnd(),w=!1))}for(var e,r,t=o.outputBuffer.length;t>0;){if(C>0&&t>0){var a=Math.min(t,C);for(r=0;p>r;r++){var n=d[r].subarray(c-C,c-C+a);o.outputBuffer.getChannelData(r).set(n,o.outputBuffer.length-t)}t-=a,C-=a}if(t>0){var i,u=b.playPosition.value;if(Math.abs(A-u)*m>B*v)y=u,i=0;else{var s=E*y+(1-E)*u;i=(s-y)*m/c,y=s}for(A=u,e=0;f-c>e;e++)for(r=0;p>r;r++)d[r][e]=d[r][e+c];for(e=f-c;f>e;e++)for(r=0;p>r;r++)d[r][e]=0;for(e=0;f-c>e;e++)for(r=0;p>r;r++)l[r][e]=l[r][e+c];var P=0,H=0;for(e=0;f-c>e;e++){var I=0;for(r=0;p>r;r++)I+=l[r][e];I>H&&(P=e,H=I)}var O=parseInt(y*(m-f)),T=0,q=0;for(e=0;f>e;e++){var x=0,D=(O+e)%m;for(r=0;p>r;r++)x+=g[r][D];x>q&&(q=x,T=e)}var G=T-P;for(O+=G,e=0;f>e;e++){var R=(O+e)%m;for(0>R&&(R=0),r=0;p>r;r++)l[r][e]=g[r][R]}var _=b.noMotionFade.value,z=1;_&&Math.abs(i)<M&&(z=0),L=N*L+(1-N)*z;var K=b.muteOnReverse.value;for(0>i&&K&&(L=0),w&&(K&&F>L||Math.abs(L)<F)&&(w=!1,"function"==typeof b.onAudioEnd&&b.onAudioEnd()),L>F&&!w&&(w=!0,"function"==typeof b.onAudioStart&&b.onAudioStart()),e=0;f>e;e++)for(r=0;p>r;r++)d[r][e]+=L*h[e]*l[r][e];C=c}}}function s(o,e){var r=[];(void 0===e||null===e)&&(e=1);for(var t=0;e>t;t++)r.push(new Float32Array(o));return r}if(!(this instanceof Scrubber))throw new TypeError("Scrubber constructor cannot be called as a function.");BaseSound.call(this,o),this.maxSources=1,this.minSources=1,this.modelName="Scrubber",this.onLoadProgress=r,this.onLoadComplete=t,this.onAudioStart=a,this.onAudioEnd=n;var f,c,d,l,h,m,p,v,P,S,b=this,g=[],C=0,A=0,y=0,L=0,B=1,E=.95,M=.05,N=.8,F=1e-4,w=!1,H=function(o,e){if(o){var r=e[0];m=r.length,p=r.numberOfChannels,v=r.sampleRate,g=[];for(var t=0;p>t;t++)g.push(r.getChannelData(t));P=b.audioContext.createScriptProcessor(Config.CHUNK_LENGTH,0,p),P.onaudioprocess=u,P.connect(b.releaseGainNode),d=s(f,p),l=s(f,p),b.isInitialized=!0}"function"==typeof b.onLoadComplete&&b.onLoadComplete(o,e)};this.setSources=function(o,e,r){BaseSound.prototype.setSources.call(this,o,e,r),i(o)},this.registerParameter(SPAudioParam.createPsuedoParam(this,"playPosition",0,1,0)),this.registerParameter(SPAudioParam.createPsuedoParam(this,"noMotionFade",!0,!1,!0)),this.registerParameter(SPAudioParam.createPsuedoParam(this,"muteOnReverse",!0,!1,!0)),window.setTimeout(function(){i(e)},0)}var Config=require("core/Config"),BaseSound=require("core/BaseSound"),SPAudioParam=require("core/SPAudioParam"),multiFileLoader=require("core/multiFileLoader");Scrubber.prototype=Object.create(BaseSound.prototype),module.exports=Scrubber;
},{"core/BaseSound":3,"core/Config":4,"core/SPAudioParam":8,"core/multiFileLoader":10}],2:[function(require,module,exports){
"use strict";function AudioContextMonkeyPatch(){function t(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var e=this.internal_createGain();return t(e.gain),e},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(e){var o=e?this.internal_createDelay(e):this.internal_createDelay();return t(o.delayTime),o},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var e=this.internal_createBufferSource();return e.start||(e.start=function(t,e,o){e||o?this.noteGrainOn(t,e,o):this.noteOn(t)}),e.stop||(e.stop=e.noteOff),t(e.playbackRate),e},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var e=this.internal_createDynamicsCompressor();return t(e.threshold),t(e.knee),t(e.ratio),t(e.reduction),t(e.attack),t(e.release),e},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var e=this.internal_createBiquadFilter();return t(e.frequency),t(e.detune),t(e.Q),t(e.gain),e},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start||(e.start=e.noteOn),e.stop||(e.stop=e.noteOff),t(e.frequency),t(e.detune),e}))}module.exports=AudioContextMonkeyPatch;


},{}],3:[function(require,module,exports){
"use strict";function BaseSound(e){function t(e){function t(){n.start(0),n.stop(e.currentTime+1e-4),window.liveAudioContexts.push(e),window.removeEventListener("touchstart",t)}var i=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);if(i&&(window.liveAudioContexts||(window.liveAudioContexts=[]),window.liveAudioContexts.indexOf(e)<0)){var n=e.createOscillator(),o=e.createGain();o.gain.value=0,n.connect(o),o.connect(e.destination),window.addEventListener("touchstart",t)}}void 0===e||null===e?(console.log("Making a new AudioContext"),this.audioContext=new AudioContext):this.audioContext=e,t(this.audioContext),this.numberOfInputs=0,Object.defineProperty(this,"numberOfOutputs",{enumerable:!0,configurable:!1,get:function(){return this.releaseGainNode.numberOfOutputs}});var i=0;Object.defineProperty(this,"maxSources",{enumerable:!0,configurable:!1,set:function(e){0>e&&(e=0),i=Math.round(e)},get:function(){return i}});var n=0;Object.defineProperty(this,"minSources",{enumerable:!0,configurable:!1,set:function(e){0>e&&(e=0),n=Math.round(e)},get:function(){return n}}),this.releaseGainNode=this.audioContext.createGain(),this.isPlaying=!1,this.isInitialized=!1,this.inputNode=null,this.destinations=[],this.modelName="Model",this.onLoadProgress=null,this.onLoadComplete=null,this.onAudioStart=null,this.onAudioEnd=null,this.parameterList_=[],this.connect(this.audioContext.destination)}require("core/AudioContextMonkeyPatch");var webAudioDispatch=require("core/WebAudioDispatch");BaseSound.prototype.connect=function(e,t,i){e instanceof AudioNode?(this.releaseGainNode.connect(e,t,i),this.destinations.push({destination:e,output:t,input:i})):e.inputNode instanceof AudioNode?(this.releaseGainNode.connect(e.inputNode,t,i),this.destinations.push({destination:e.inputNode,output:t,input:i})):console.error("No Input Connection - Attempts to connect "+typeof e+" to "+typeof this)},BaseSound.prototype.disconnect=function(e){this.releaseGainNode.disconnect(e),this.destinations=[]},BaseSound.prototype.start=function(e,t,i,n){("undefined"==typeof e||e<this.audioContext.currentTime)&&(e=this.audioContext.currentTime),this.releaseGainNode.gain.cancelScheduledValues(e),"undefined"!=typeof n?(this.releaseGainNode.gain.setValueAtTime(0,e),this.releaseGainNode.gain.linearRampToValueAtTime(1,e+n)):this.releaseGainNode.gain.setValueAtTime(1,e);var o=this;webAudioDispatch(function(){o.isPlaying=!0},e,this.audioContext)},BaseSound.prototype.stop=function(e){("undefined"==typeof e||e<this.audioContext.currentTime)&&(e=this.audioContext.currentTime);var t=this;webAudioDispatch(function(){t.isPlaying=!1},e,this.audioContext),this.releaseGainNode.gain.cancelScheduledValues(e)},BaseSound.prototype.release=function(e,t,i){if(this.isPlaying){var n=.5;if(("undefined"==typeof e||e<this.audioContext.currentTime)&&(e=this.audioContext.currentTime),t=t||n,this.releaseGainNode.gain.setValueAtTime(this.releaseGainNode.gain.value,e),this.releaseGainNode.gain.linearRampToValueAtTime(0,e+t),!i){var o=this;webAudioDispatch(function(){o.pause()},e+t,this.audioContext)}}},BaseSound.prototype.setSources=function(e,t,i){this.isInitialized=!1,"function"==typeof t&&(this.onLoadProgress=t),"function"==typeof i&&(this.onLoadComplete=i)},BaseSound.prototype.play=function(){this.start(0)},BaseSound.prototype.pause=function(){this.isPlaying=!1},BaseSound.prototype.registerParameter=function(e,t){(void 0===t||null===t)&&(t=!1),Object.defineProperty(this,e.name,{enumerable:!0,configurable:t,value:e});var i=this,n=!1;this.parameterList_.forEach(function(t,o){t.name===e.name&&(i.parameterList_.splice(o,1,e),n=!0)}),n||this.parameterList_.push(e)},BaseSound.prototype.listParams=function(){return this.parameterList_},module.exports=BaseSound;


},{"core/AudioContextMonkeyPatch":2,"core/WebAudioDispatch":9}],4:[function(require,module,exports){
"use strict";function Config(){}Config.LOG_ERRORS=!0,Config.ZERO=parseFloat("1e-37"),Config.MAX_VOICES=8,Config.NOMINAL_REFRESH_RATE=60,Config.WINDOW_LENGTH=512,Config.CHUNK_LENGTH=256,Config.DEFAULT_SMOOTHING_CONSTANT=.05,module.exports=Config;


},{}],5:[function(require,module,exports){
"use strict";function DetectLoopMarkers(r){var e=0,n=0,t=!0,u=5e3,a=44100,o=.5,l=2e4,f=.01,c=1024,i=16,s=[],d=0,h=function(r,e){for(var n=0,t=e+i;e+i+c>t;++t)n+=Math.abs(r[t]);return f>n/c},v=function(r){return function(e,n,t){var u;return u=t%2===0?n[r]>o:n[r]<-o,e&&u}},b=function(t){var o=null,f=null;e=0,n=d;for(var c=0;null===o&&d>c&&l>c;){if(t.reduce(v(c),!0)&&(1!==t.length||h(t[0],c))){o=c;break}c++}for(c=d;null===f&&c>0&&l>d-c;){if(t.reduce(v(c),!0)){f=c;break}c--}var i=Math.round(u/2*r.sampleRate/a);return null!==o&&null!==f&&f>o+i?(e=o+i,n=f-i,!0):!1},k=function(r){return function(e,n){return e&&Math.abs(n[r])<f}},p=function(r){var t=!0;for(e=0;l>e&&d>e&&(t=r.reduce(k(e),!0));)e++;for(n=d;l>d-n&&n>0&&(t=r.reduce(k(n),!0));)n--;e>n&&(e=0)};d=r.length;for(var M=0;M<r.numberOfChannels;M++)s.push(new Float32Array(r.getChannelData(M)));return b(s)||(p(s),t=!1),{marked:t,start:e,end:n}}module.exports=DetectLoopMarkers;


},{}],6:[function(require,module,exports){
"use strict";function FileLoader(e,r,t,n){function o(){var r=Object.prototype.toString.call(e),t=/[^.]+$/.exec(e);if("[object String]"===r){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.addEventListener("progress",n,!1),o.onload=function(){a(o.response,t)},o.send()}else if("[object File]"===r||"[object Blob]"===r){var i=new FileReader;i.addEventListener("progress",n,!1),i.onload=function(){a(i.result,t)},i.readAsArrayBuffer(e)}}function a(n,o){r.decodeAudioData(n,function(e){if(u=!0,i=e,f=0,s=i.length,"wav"!==o[0]){var r=detectLoopMarkers(i);r&&(f=r.start,s=r.end)}t&&"function"==typeof t&&t(!0)},function(){console.warn("Error Decoding "+e),t&&"function"==typeof t&&t(!1)})}if(!(this instanceof FileLoader))throw new TypeError("FileLoader constructor cannot be called as a function.");var i,f=0,s=0,u=!1,c=function(e){var r=/^[0-9]+$/;return r.test(e)?!0:!1},l=function(e,t){"undefined"==typeof t&&(t=i.length),c(e)?c(t)||(console.warn("Incorrect parameter Type - FileLoader getBuffer end parameter is not an integer"),t=Number.isNan(t)?0:Math.round(Number(t))):(e=Number.isNan(e)?0:Math.round(Number(e)),console.warn("Incorrect parameter Type - FileLoader getBuffer start parameter is not an integer. Coercing it to an Integer - start")),e>t&&(console.error("Incorrect parameter Type - FileLoader getBuffer start parameter "+e+" should be smaller than end parameter "+t+" . Setting them to the same value "+e),t=e),(e>s||f>e)&&(console.error("Incorrect parameter Type - FileLoader getBuffer start parameter should be within the buffer size : 0-"+i.length+" . Setting start to "+f),e=f),(t>s||f>t)&&(console.error("Incorrect parameter Type - FileLoader getBuffer start parameter should be within the buffer size : 0-"+i.length+" . Setting start to "+s),t=s);var n=t-e;if(!i)return console.error("No Buffer Found - Buffer loading has not completed or has failed."),null;for(var o=r.createBuffer(i.numberOfChannels,n,i.sampleRate),a=0;a<i.numberOfChannels;a++){var u=new Float32Array(i.getChannelData(a));o.getChannelData(a).set(u.subarray(e,t))}return o};this.getBuffer=function(e,r){return"undefined"==typeof e&&(e=0),"undefined"==typeof r&&(r=s-f),l(f+e,f+r)},this.getRawBuffer=function(){return u?i:(console.error("No Buffer Found - Buffer loading has not completed or has failed."),null)},this.isLoaded=function(){return u},o()}var detectLoopMarkers=require("core/DetectLoopMarkers");module.exports=FileLoader;


},{"core/DetectLoopMarkers":5}],7:[function(require,module,exports){
"use strict";function SPAudioBuffer(e,t,n,r,o){if(!(e instanceof AudioContext))return void console.error("First argument to SPAudioBuffer must be a valid AudioContext");var i,a,u,f;this.audioContext=e,this.duration=null,Object.defineProperty(this,"numberOfChannels",{get:function(){return this.buffer?this.buffer.numberOfChannels:0}}),Object.defineProperty(this,"sampleRate",{get:function(){return this.buffer?this.buffer.sampleRate:0}}),this.getChannelData=function(e){return this.buffer?this.buffer.getChannelData(e):null},this.isSPAudioBuffer=!0,Object.defineProperty(this,"buffer",{set:function(e){if(null===u)this.startPoint=0;else if(u>e.length/e.sampleRate)return void console.error("SPAudioBuffer : startPoint cannot be greater than buffer length");if(null===f)this.endPoint=this.rawBuffer_.length;else if(f>e.length/e.sampleRate)return void console.error("SPAudioBuffer : endPoint cannot be greater than buffer length");a=e,this.updateBuffer()}.bind(this),get:function(){return i}}),this.sourceURL=null,Object.defineProperty(this,"startPoint",{set:function(e){return void 0!==f&&e>=f?void console.error("SPAudioBuffer : startPoint cannot be greater than endPoint"):a&&e*a.sampleRate>=a.length?void console.error("SPAudioBuffer : startPoint cannot be greater than or equal to buffer length"):(u=e,void this.updateBuffer())}.bind(this),get:function(){return u}}),Object.defineProperty(this,"endPoint",{set:function(e){return void 0!==u&&u>=e?void console.error("SPAudioBuffer : endPoint cannot be lesser than startPoint"):a&&e*a.sampleRate>=a.length?void console.error("SPAudioBuffer : endPoint cannot be greater than buffer or equal to length"):(f=e,void this.updateBuffer())}.bind(this),get:function(){return f}}),this.updateBuffer=function(){if(a){if((null===u||void 0===u)&&(u=0),(null===f||void 0===f)&&(f=a.duration),this.duration=f-u,this.length=Math.ceil(a.sampleRate*this.duration)+1,this.length>0){i&&i.length==this.length&&i.numberOfChannels==a.numberOfChannels&&i.sampleRate==a.sampleRate||(i=this.audioContext.createBuffer(a.numberOfChannels,this.length,a.sampleRate));for(var e=Math.floor(u*a.sampleRate),t=Math.ceil(f*a.sampleRate),n=0;n<a.numberOfChannels;n++){var r=new Float32Array(a.getChannelData(n));i.getChannelData(n).set(r.subarray(e,t))}}}else this.duration=0};var s=Object.prototype.toString.call(t),l=Object.prototype.toString.call(n),h=Object.prototype.toString.call(r),d=Object.prototype.toString.call(o);"[object String]"===s||"[object File]"===s?this.sourceURL=t:"[object AudioBuffer]"===s?this.buffer=t:console.warn("Incorrect Parameter Type. url can only be a String, File or an AudioBuffer"),"[object Number]"===l?this.startPoint=parseFloat(n):"[object Undefined]"!==l&&console.warn("Incorrect Parameter Type. startPoint should be a Number"),"[object Number]"===h?this.endPoint=parseFloat(r):"[object Undefined]"!==l&&console.warn("Incorrect Parameter Type. endPoint should be a Number"),"[object AudioBuffer]"!==d||this.buffer||(this.buffer=o)}module.exports=SPAudioBuffer;


},{}],8:[function(require,module,exports){
"use strict";function SPAudioParam(e,t,a,n,i,o,u,r){var l,c=1e-4,f=500,s=0,m=!1;if(this.defaultValue=null,this.maxValue=0,this.minValue=0,this.name="",Object.defineProperty(this,"value",{enumerable:!0,configurable:!1,set:function(t){if(typeof t!=typeof i)return void console.error("Attempt to set a "+typeof i+" parameter to a "+typeof t+" value");if("number"==typeof t&&(t>n?(console.warn(this.name+" clamping to max"),t=n):a>t&&(console.warn(this.name+" clamping to min"),t=a)),s=t,"function"==typeof u&&(t=u(t)),m||window.clearInterval(l),m=!1,"function"==typeof r&&e.audioContext)r(o,t,e.audioContext);else if(o){if(o instanceof AudioParam){var c=[];c.push(o),o=c}o.forEach(function(a){e.isPlaying?a.setTargetAtTime(t,e.audioContext.currentTime,Config.DEFAULT_SMOOTHING_CONSTANT):a.setValueAtTime(t,e.audioContext.currentTime)})}},get:function(){return s}}),o&&(o instanceof AudioParam||o instanceof Array))var d=o[0]||o;t?this.name=t:d&&(this.name=d.name),"undefined"!=typeof i?(this.defaultValue=i,this.value=i):d&&(this.defaultValue=d.defaultValue,this.value=d.defaultValue),"undefined"!=typeof a?this.minValue=a:d&&(this.minValue=d.minValue),"undefined"!=typeof n?this.maxValue=n:d&&(this.maxValue=d.maxValue),this.setValueAtTime=function(t,a){if(o)"function"==typeof u&&(t=u(t)),o instanceof AudioParam?o.setValueAtTime(t,a):o instanceof Array&&o.forEach(function(e){e.setValueAtTime(t,a)});else{var n=this;webAudioDispatch(function(){n.value=t},a,e.audioContext)}},this.setTargetAtTime=function(t,a,n){if(o)"function"==typeof u&&(t=u(t)),o instanceof AudioParam?o.setTargetAtTime(t,a,n):o instanceof Array&&o.forEach(function(e){e.setTargetAtTime(t,a,n)});else{var i=this,r=i.value,s=e.audioContext.currentTime;console.log("starting automation"),l=window.setInterval(function(){e.audioContext.currentTime>=a&&(m=!0,i.value=t+(r-t)*Math.exp(-(e.audioContext.currentTime-s)/n),Math.abs(i.value-t)<c&&window.clearInterval(l))},f)}},this.setValueCurveAtTime=function(t,a,n){if(o){if("function"==typeof u)for(var i=0;i<t.length;i++)t[i]=u(t[i]);o instanceof AudioParam?o.setValueCurveAtTime(t,a,n):o instanceof Array&&o.forEach(function(e){e.setValueCurveAtTime(t,a,n)})}else{var r=this,c=e.audioContext.currentTime;l=window.setInterval(function(){if(e.audioContext.currentTime>=a){var i=Math.floor(t.length*(e.audioContext.currentTime-c)/n);i<t.length?(m=!0,r.value=t[i]):window.clearInterval(l)}},f)}},this.exponentialRampToValueAtTime=function(t,a){if(o)"function"==typeof u&&(t=u(t)),o instanceof AudioParam?o.exponentialRampToValueAtTime(t,a):o instanceof Array&&o.forEach(function(e){e.exponentialRampToValueAtTime(t,a)});else{var n=this,i=n.value,r=e.audioContext.currentTime;0===i&&(i=.001),l=window.setInterval(function(){var o=(e.audioContext.currentTime-r)/(a-r);m=!0,n.value=i*Math.pow(t/i,o),e.audioContext.currentTime>=a&&window.clearInterval(l)},f)}},this.linearRampToValueAtTime=function(t,a){if(o)"function"==typeof u&&(t=u(t)),o instanceof AudioParam?o.linearRampToValueAtTime(t,a):o instanceof Array&&o.forEach(function(e){e.linearRampToValueAtTime(t,a)});else{var n=this,i=n.value,r=e.audioContext.currentTime;l=window.setInterval(function(){var o=(e.audioContext.currentTime-r)/(a-r);m=!0,n.value=i+(t-i)*o,e.audioContext.currentTime>=a&&window.clearInterval(l)},f)}},this.cancelScheduledValues=function(e){o?o instanceof AudioParam?o.cancelScheduledValues(e):o instanceof Array&&o.forEach(function(t){t.cancelScheduledValues(e)}):window.clearInterval(l)}}var webAudioDispatch=require("core/WebAudioDispatch"),Config=require("core/Config");SPAudioParam.createPsuedoParam=function(e,t,a,n,i){return new SPAudioParam(e,t,a,n,i,null,null,null)},module.exports=SPAudioParam;


},{"core/Config":4,"core/WebAudioDispatch":9}],9:[function(require,module,exports){
"use strict";function WebAudioDispatch(o,e,i){if(!i)return void console.warn("No AudioContext provided");var t=i.currentTime;t>=e||.005>e-t?o():window.setTimeout(function(){o()},1e3*(e-t))}module.exports=WebAudioDispatch;


},{}],10:[function(require,module,exports){
"use strict";function MultiFileLoader(e,o,r,u){function i(){if(!e)return console.log("Setting empty source. No sound may be heard"),void u(!1,c);if(!(e instanceof Array)){var o=[];o.push(e),e=o}return e.length<f.minSources||e.length>f.maxSources?(console.error("Unsupported number of Sources. "+f.modelName+" only supports a minimum of "+f.minSources+" and a maximum of "+f.maxSources+" sources. Trying to load "+e.length+"."),void u(!1,c)):(a=e.length,c=new Array(a),void e.forEach(function(e,o){n(e,t(o))}))}function n(e,o){var u,i=Object.prototype.toString.call(e);if("[object AudioBuffer]"===i)u=new SPAudioBuffer(f.audioContext,e),o(!0,u);else if(e.isSPAudioBuffer&&e.buffer)o(!0,e);else if("[object String]"===i||"[object File]"===i||e.isSPAudioBuffer&&e.sourceURL){var n;e.isSPAudioBuffer&&e.sourceURL?(n=e.sourceURL,u=e):(n=e,u=new SPAudioBuffer(f.audioContext,n));var t=new FileLoader(n,f.audioContext,function(e){e?(u.buffer=t.getBuffer(),o(e,u)):o(e)},function(e){r&&"function"==typeof r&&r(e,u)})}else console.error("Incorrect Parameter Type - Source is not a URL, File or AudioBuffer or doesn't have sourceURL or buffer"),o(!1,{})}function t(e){return function(o,r){if(o&&(c[e]=r),a--,0===a){for(var i=!0,n=0;n<c.length;++n)if(!c[n]){i=!1;break}u(i,c)}}}var f=this;this.audioContext=o;var a=0,c=[];i()}var FileLoader=require("core/FileLoader"),SPAudioBuffer=require("core/SPAudioBuffer");module.exports=MultiFileLoader;


},{"core/FileLoader":6,"core/SPAudioBuffer":7}]},{},[1])(1)
});